<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Tommy Twardzik"/><link rel="canonical" href="tomtwardzik.com/blog/remove-media-mac-bookmarklet"/><meta name="twitter:url" content="tomtwardzik.com/blog/remove-media-mac-bookmarklet"/><meta name="og:url" content="tomtwardzik.com/blog/remove-media-mac-bookmarklet"/><title>Remove Ugly Media Bookmarklet for Mac | Tommy Twardzik</title><meta name="twitter:title" content="Remove Ugly Media Bookmarklet for Mac | Tommy Twardzik"/><meta name="og:title" content="Remove Ugly Media Bookmarklet for Mac | Tommy Twardzik"/><meta name="description" content="Use a little JavaScript to create a simple bookmarklet that removes unsightly or distracting media from webpages."/><meta name="twitter:description" content="Use a little JavaScript to create a simple bookmarklet that removes unsightly or distracting media from webpages."/><meta name="og:description" content="Use a little JavaScript to create a simple bookmarklet that removes unsightly or distracting media from webpages."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Tommy Twardzik"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">Tommy Twardzik</a><nav><ul><li><a href="/">Home</a></li><li><a href="/work/">Work</a></li><li><a href="/about/">About</a></li><li><a class="selected" href="/blog">Bum Notes</a></li><li><a class="selected" href="mailto:ttwardzik@gmail.com">Contact</a></li></ul></nav></div></header><div class="wrapper"><div class="breadcrumb"><a href="/blog/">Bum Notes</a>  â†’  <a href="/tags/programming/">Programming</a>  â†’  Remove Ugly Media Bookmarklet for Mac</div><article><div class="content"><h1>Remove Ugly Media Bookmarklet for Mac</h1><img src="/assets/silver-macbook-opening-lid.jpg" alt="A silver MacBook opening its lid with ambient purple light."/><p><em>Image: <a href="https://unsplash.com/@oneor0">Dmitry Chernyshov</a></em></p><p>I already wrote about <a href="/blog/remove-media-shortcut">how to remove ugly media on iOS using Shortcuts</a>. There's another way to accomplish this that works on a Mac, too!</p><p>You just have to smush that JavaScript into a tiny DIY browser extension, called a <strong>bookmarklet</strong>.</p><p>Bookmarklets let you trigger a JavaScript function simply by clicking the item in your bookmarks list. Instead of opening a URL, the bookmarklet runs its code on the page.</p><p>Why opt for this alternative over Shortcuts? Until Shortcuts comes to the Mac (ðŸ¤ž) that solution is limited to iOS and iPadOS. And while Shortcuts takes a moment to animate its progress, the bookmarklet runs instantly.</p><p>Bonus: You can use this method right on iPhones and iPads, too!</p><h2>Configuring the Bookmarklet</h2><p>It was fairly simple to reuse the JavaScript from <a href="https://www.icloud.com/shortcuts/c68e71a5ccf74cf589859630904bd2b8">my Remove Media Shortcut</a> for the bookmarklet but I needed to employ a few tricks to make it work.</p><p>These I learned by example, looking at another bookmarkletâ€”<strong><a href="https://ole.michelsen.dk/blog/view-source-on-the-ipad-and-iphone/">View Page Source</a></strong>â€”I've been using on my iPad for many months in lieu of the Mac's <strong>Command + Option + U</strong> inspector.</p><h3>The `javascript:()` Wrapper</h3><p>What's important is beginning the bookmarklet's JavaScript with <code>javascript:(()=&gt;{</code> and ending it with the properâ€¦ ending: <code>})();</code>.</p><p><strong>This is the almost-ready code:</strong></p><pre><code>javascript:(function(){
  var images=document.getElementsByTagName('img');
  for(i=0;i&lt;images.length;i++){
      images[i].style.display = "none";};
  var vids=document.getElementsByTagName('video');
  for(i=0;i&lt;vids.length;i++){
    vids[i].style.display = "none";};
    completion(true)
})();
</code></pre><p>Looks good, but it needs one more tweak before it's readyâ€¦</p><h3>URL Encoding</h3><p>Within those bookends you insert our JavaScript but the code has to be <em>URL encoded</em>. That means each whitespace is replaced with "<strong>%20</strong>", each "{" becomes "<strong>%7B</strong>", etc.</p><p>Don't do this by hand.</p><p>On an iPad, you can use <strong><a href="https://www.icloud.com/shortcuts/f3e148e6274147d59c355adf68445e7a">this simple shortcut</a></strong> to URL-encode any text, including our JavaScript.</p><p>Once it's encoded, the browser will be able to open it like a URL. Instead of displaying a webpage, it'll run the code.</p><p><strong>This is the same JavaScript code as above but URL-encoded and ready to copy-and-paste into your bookmarklet:</strong></p><pre><code>javascript:(function()%7Bvar%20images%3Ddocument.getElementsByTagName('img')%3Bfor(i%3D0%3Bi%3Cimages.length%3Bi%2B%2B)%7Bimages%5Bi%5D.style.display%20%3D%20%22none%22%3B%7D%3Bvar%20vids%3Ddocument.getElementsByTagName('video')%3Bfor(i%3D0%3Bi%3Cvids.length%3Bi%2B%2B)%7Bvids%5Bi%5D.style.display%20%3D%20%22none%22%3B%7D%3Bcompletion(true)%7D)();
</code></pre><h2>Creating the Bookmarklet</h2><p>Creating a JavaScript bookmarklet requires the tiniest of workarounds but I'm not aware of any built-in way to do it.</p><p><strong>On macOS and iOS:</strong> 1. Visit any web page and use the share sheet to "Add Bookmark". 2. Change the name to "Remove Media" or whatever you'd like. 3. Save the bookmark.</p><p><strong>On macOS:</strong> 1. Open the bookmarks list, right click on your new bookmark and click "Edit Addressâ€¦" 2. Replace the URL with the <strong>URL-encoded JavaScript code</strong> above (the ugly-looking version that's full of "%" marks). 3. Save the change. 4. On a web page with an image or video, open bookmarks and click your new bookmarklet. The media should instantly disappear.</p><p><strong>On iOS:</strong> 1. Open bookmarks, long-press on your new bookmark and tap <strong>Edit</strong>. 2. Replace the URL with the <em>URL-encoded</em> JavaScript code above. 3. Navigate back to the list and tap your new bookmarklet to run it on the current web page.</p><p>Your bookmarklet is ready to go!</p></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/programming">programming</a></li></ul></article></div><footer><p><button><a href="mailto:ttwardzik@gmail.com">Contact</a></button></p><p>Copyright Â© 2020â€“2025 Tommy Twardzik</p><p><a href="https://twitter.com/ttwardz">Twitter</a> <a rel="me" href="https://mstdn.social/@ttwardz">Mastodon</a> <a href="https://www.linkedin.com/in/tom-twardzik/">LinkedIn</a> <a href="/feed.rss">RSS</a></p><p>Written respectfully and from scratch in Swift. Generated with <a href="https://github.com/johnsundell/publish">Publish</a>.</p></footer></body></html>