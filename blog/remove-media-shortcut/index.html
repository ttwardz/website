<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Tom Twardzik"/><link rel="canonical" href="tomtwardzik.com/blog/remove-media-shortcut"/><meta name="twitter:url" content="tomtwardzik.com/blog/remove-media-shortcut"/><meta name="og:url" content="tomtwardzik.com/blog/remove-media-shortcut"/><title>Remove Ugly Web Media with Shortcuts and JavaScript | Tom Twardzik</title><meta name="twitter:title" content="Remove Ugly Web Media with Shortcuts and JavaScript | Tom Twardzik"/><meta name="og:title" content="Remove Ugly Web Media with Shortcuts and JavaScript | Tom Twardzik"/><meta name="description" content="Wield the power of iOS Shortcuts and a bit of JavaScript to clear webpages of unpleasant photos and videos while you read and research."/><meta name="twitter:description" content="Wield the power of iOS Shortcuts and a bit of JavaScript to clear webpages of unpleasant photos and videos while you read and research."/><meta name="og:description" content="Wield the power of iOS Shortcuts and a bit of JavaScript to clear webpages of unpleasant photos and videos while you read and research."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Tom Twardzik"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">Tom Twardzik</a><nav><ul><li><a href="/">Home</a></li><li><a href="/work/">Work</a></li><li><a href="/about/">About</a></li><li><a class="selected" href="/blog">Bum Notes</a></li><li><a class="selected" href="mailto:ttwardzik@gmail.com">Contact</a></li></ul></nav></div></header><div class="wrapper"><div class="breadcrumb"><a href="/blog/">Bum Notes</a>  →  <a href="/tags/shortcuts/">Shortcuts</a>  →  Remove Ugly Web Media with Shortcuts and JavaScript</div><article><div class="content"><h1>Remove Ugly Web Media with Shortcuts and JavaScript</h1><img src="/assets/ipad-on-desk.jpg" alt="iPad and Apple Pencil lying on desk."/><p><em>Image: <a href="https://unsplash.com/@aoirostudio">Francois Hoang</a></em></p><p><em>How a little JavaScript and a Shortcut let me remove ugly images/distracting videos from web pages while I’m working and researching.</em></p><p>Freelance writers have to be adventurous, un-picky, ready to learn about a new subject every week. You research hard about your client's topic, throw yourself into it until you're more than a surface-level summarizer, then enjoy that best kind of learning where you <em>become</em> the teacher, exploring the subject in your own words and absorbing it further into your bones.</p><p>It's a thrilling career and one that pays off in more ways than a check. Knowledge, new perspectives and a deeper understanding of special and specialized parts of the world in which we live come to freelance writers.</p><p>Sometimes, though, the topics aren't exactly <em>pleasant</em>. And research into these topics (think health topics, pest control, toilet repair) often surfaces less-than-pretty pictures and videos.</p><p>These can be… distracting while I'm trying to write.</p><p>And don't forget about those auto-playing pop-up videos that some websites splash onto every page!</p><p>Let's get rid of 'em.</p><p><strong>Tl;dr - <a href="https://www.icloud.com/shortcuts/c68e71a5ccf74cf589859630904bd2b8">Download the shortcut here</a>!</strong></p><h2>Hide Ugly Media with Shortcuts on iOS</h2><p>To make these dirty jobs a little easier on the eyes and a little less distracting from the flow, I created a <strong>simple shortcut</strong>.</p><p>I write mostly on my iPad, so this trick uses the Shortcuts app and its ability to run JavaScript on a web page in Safari.</p><blockquote><p>If you're using a Mac, <a href="/blog/remove-media-bookmarklet">check out my bookmarklet</a> that does the same thing!</p></blockquote><p>When I'm reading a page that contains an ugly picture or a nonsense video, I can tap the share button, choose my shortcut from the list of actions and watch the media magically disappear.</p><h2>The Code</h2><p><em>A little coding know-how goes a long way.</em></p><p>I'm a beginner iOS programmer, an amateur web developer and a copy-and-paste JavaScript coder. Turns out, that's enough to get a good bit done on a computer!</p><p>To write the JavaScript code that runs in this shortcut, I adapted some JS from a <a href="https://www.icloud.com/shortcuts/46cc38e259324f7494e4c66829007edc">Shortcut</a> that was <a href="https://twitter.com/livbem/status/1223043752878460928?s=20">created by an engineer on Apple's Safari team</a> to get a web page's canonical URL instead of its AMP address.</p><p>I only had to modify, not <em>write from scratch</em>, a few lines of JS—familiarity is enough to figure out what's going on in the function and Google your way to the proper substitutions.</p><h2>The Shortcut</h2><p>It uses only 1 action:</p><ol><li><strong>Run JavaScript on Web Page</strong></li></ol><p>Add that action by searching for it in the actions panel.</p><p>Then, replace the boilerplate JavaScript with this:</p><pre><code>var images = document.getElementsByTagName('img');
for (i = 0; i &lt; images.length; i++) {
    images[i].style.display = "none";
}

var vids = document.getElementsByTagName('video');
for (i = 0; i &lt; vids.length; i++) {
    vids[i].style.display = "none";
}

completion(true);
</code></pre><p>First, the code finds all instances of <code>&lt;img&gt;</code> and <code>&lt;video&gt;</code> HTML tags.</p><p>Then, it loops over both sets, changing each element's display property to "none". That removes them from the page.</p><p>(If you're better at JS than me, feel free to improve this code!)</p><img src="/assets/shortcuts-js-action-screenshot.png" alt="Screenshot of Shortcuts "Run JavaScript on web page" action."/><p><em>This is the single action used in this shortcut.</em></p><h3>Configuring the Shortcut to Run on Web Pages</h3><p>To use the shortcut from the share sheet in Safari on iOS, tap the "…" button next to its name at the top of the editor and turn on "Show in Share Sheet".</p><p>Tap "Share Sheet Types", tap "Deselect All" and, finally, select only "Safari web pages".</p><p>You should also rename the shortcut. Mine's called "Remove Media from Web Page". Give it a nice color and a recognizable glyph, too!</p><p>Now, back in the main editor, tap and hold on the blue placeholder text "Web Page" right at the top of the action. From the menu that appears, select <strong>Shortcut Input</strong>.</p><p>That sets the input to the website you'll pass into the shortcut from the share sheet.</p><p><strong>Now, test it!</strong></p><img src="/assets/share-sheet-screenshot.png" alt="Screenshot of share sheet shortcuts"/><p><em>Before (left) and after running the shortcut.</em></p><p>Go to a page in Safari that has an image or video, tap the <strong>Share</strong> button, scroll down until you see the name of the shortcut you've just created and run it!</p><p>You'll have to allow Shortcuts to run JavaScript on the webpage. Once you tap "Allow" the unwanted media will... poof—disappear!</p><p><strong>Download the shortcut <a href="https://www.icloud.com/shortcuts/c68e71a5ccf74cf589859630904bd2b8">here</a>!</strong></p></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/shortcuts">shortcuts</a></li><li><a href="/tags/programming">programming</a></li></ul></article></div><footer><p>Copyright © 2020 Tom Twardzik</p><p>Written respectfully and from scratch in Swift. Generated with <a href="https://github.com/johnsundell/publish">Publish</a></p><p><a href="https://twitter.com/ttwardz">Twitter</a> <a href="https://www.linkedin.com/in/tom-twardzik/">LinkedIn</a> <a href="https://www.upwork.com/o/profiles/users/_~01428f2b4067e07543/">Upwork</a> <a href="/feed.rss">RSS feed</a></p></footer></body></html>